#! /bin/bash

if type dnf > /dev/null; then
	sudo dnf groupinstall  -y 'Development Tools'

	sudo dnf install -y \
		git \
		libxcrypt-compat
fi

if type apt-get > /dev/null; then
	sudo apt-get update -y

	sudo apt-get install -y \
		git \
		build-essential \
		man
fi

# export HOMEBREW_INSTALL_FROM_API=1
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"

# setup homebrew env
brewpaths=( "/home/linuxbrew/.linuxbrew/bin/brew" \
	"/usr/local/bin/brew" \
	"/opt/homebrew/bin/brew" )

for pth in "${brewpaths[@]}";
do
	if [[ -x "$pth" ]]; then
		eval "$($pth shellenv)"
		break
	fi
done

brew install \
	antibody \
	bat \
	chezmoi \
	diff-so-fancy \
	dog \
	dos2unix \
	entr \
	exa \
	fd \
	file \
	fzf \
	git \
	httpie \
	hyperfine \
	jq \
	lazygit \
	nvm \
	parallel \
	python \
	shellcheck \
	the_silver_searcher \
	tldr \
	tmux \
	unzip \
	wget \
	zsh \
	beeftornado/rmtree/brew-rmtree \
	sschlesier/bombardier/bombardier \
	sschlesier/csvutils/csvquote \
	sschlesier/csvutils/tabulator

pip3 install \
	visidata \
	openpyxl \
	pylint

# npm install -g \
# 	log-color-highlight \
# 	markserv \
# 	npm-check
